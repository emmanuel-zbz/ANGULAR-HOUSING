<div class="form-container">
  <h2>Register New House</h2>

  <form [formGroup]="form" (ngSubmit)="onSubmit()">

    <div class="form-group">
      <label for="name">Name</label>
      <input id="name" type="text" formControlName="name">

      @if (form.controls.name.invalid && form.controls.name.touched) {
        <div class="error">
          Name is required (min 3 characters)
        </div>
      }
    </div>

    <div class="form-group">
      <label for="city">City</label>
      <input id="city" type="text" formControlName="city">

      @if (form.controls.city.invalid && form.controls.city.touched) {
        <div class="error">City is required</div>
      }
    </div>

    <div class="form-group">
      <label for="state">State</label>
      <input id="state" type="text" formControlName="state">

      @if (form.controls.state.invalid && form.controls.state.touched) {
        <div class="error">State is required</div>
      }
    </div>

    <div class="form-group">
      <label for="units">Available Units</label>
      <input id="units" type="number" formControlName="availableUnits">

      @if (form.controls.availableUnits.invalid && form.controls.availableUnits.touched) {
        <div class="error">At least 1 unit required</div>
      }
    </div>

    <div class="form-group">
      <label for="price">Price (â‚¬)</label>
      <input id="price" type="number" formControlName="price">

      @if (form.controls.price.invalid && form.controls.price.touched) {
        <div class="error">Price must be at least 10,000</div>
      }
    </div>

    <div class="checkbox-group">
      <label>
        <input type="checkbox" formControlName="wifi">
        Has Wifi
      </label>

      <label>
        <input type="checkbox" formControlName="laundry">
        Has Laundry
      </label>

      <label>
        <input type="checkbox" formControlName="available">
        Is Available Now
      </label>
    </div>

    <button type="submit" class="primary" [disabled]="form.invalid || isSubmitting()">
      @if (isSubmitting()) {
        Saving...
      } @else {
        Create House
      }
    </button>
  </form>
</div>
